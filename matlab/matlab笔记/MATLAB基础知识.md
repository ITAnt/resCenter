## MATLAB 命令

### MATLA特殊变量和常量

|  Name   | Meaning                                  |
| :-----: | :--------------------------------------- |
| **ans** | 默认的变量名，以应答最近依次操作运算结果 |
| **eps** | 浮点数的相对误差                         |
| **i,j** | 虚数单位，定义为 i^2 = j^2 = -1          |
| **Inf** | 代表无穷大                               |
| **NaN** | 代表不定值（不是数字）                   |
| **pi**  | 圆周率                                   |



### 命名规则

变量名称是由一个字母后由任意数量的字母，数字或下划线。

注意MATLAB中是区分大小写的。

变量名可以是任意长度，但是，MATLAB使用只有前N个字符，其中N是由函数 namelengthmax。



### MATLAB管理会话的命令

MATLAB提供管理会话的各种命令。如下表所示：

|  命令   |        目的/作用         |
| :-----: | :----------------------: |
|   clc   |      清除命令窗口。      |
|  clear  |    从内存中删除变量。    |
|  exist  |  检查存在的文件或变量。  |
| global  |     声明变量为全局。     |
|  help   |      搜索帮助主题。      |
| lookfor |   搜索帮助关键字条目。   |
|  quit   |       停止MATLAB。       |
|   who   |      列出当前变量。      |
|  whos   | 列出当前变量（长显示）。 |

### MATLAB的系统命令

使用MATLAB的时候有一些系统命令可以方便我们的操作，如在当前的工作区中可以使用系统命令保存为一个文件、加载文件、显示日期、列出目录中的文件和显示当前目录等。

下表列举了一些MATLAB常用的系统相关的命令：

|  命令   |            目的/作用             |
| :-----: | :------------------------------: |
|   cd    |          改变当前目录。          |
|  date   |          显示当前日期。          |
| delete  |          删除一个文件。          |
|  diary  |     日记文件记录开/关切换。      |
|   dir   |    列出当前目录中的所有文件。    |
|  load   |  负载工作区从一个文件中的变量。  |
|  path   |          显示搜索路径。          |
|   pwd   |          显示当前目录。          |
|  save   |  保存在一个文件中的工作区变量。  |
|  type   |       显示一个文件的内容。       |
|  what   | 列出所有MATLAB文件在当前目录中。 |
| wklread |      读取.wk1电子表格文件。      |

### MATLAB输入和输出命令

MATLAB提供了以下输入和输出相关的命令：

|  命令   |          作用/目的           |
| :-----: | :--------------------------: |
|  disp   | 显示一个数组或字符串的内容。 |
| fscanf  |    阅读从文件格式的数据。    |
| format  |     控制屏幕显示的格式。     |
| fprintf | 执行格式化写入到屏幕或文件。 |
|  input  |     显示提示并等待输入。     |
|    ;    |       禁止显示网版印刷       |

fscanf和fprintf命令的行为像C scanf和printf函数。他们支持格式如下代码：

| 格式代码 |                 目的/作用                  |
| :------: | :----------------------------------------: |
|  **%s**  |                 输出字符串                 |
|  **%d**  |                  输出整数                  |
|  **%f**  |                 输出浮点数                 |
|  **%e**  |             显示科学计数法形式             |
|  **%g**  | %f 和%e 的结合，根据数据选择适当的显示方式 |

用于数字显示格式的函数有以下几种形式：

|   Format函数   |      最多可显示      |
| :------------: | :------------------: |
|  format short  | 四位十进制数（默认） |
|  format long   |     15位定点表示     |
| format short e |     五位浮点表示     |
| format long e  |     15位浮点表示     |
|  format bank   |    两个十进制数字    |
|    format +    |      正，负或零      |
|   format rat   |      有理数近似      |
| format compact |   变量之间没有空行   |
|  format loose  |    变量之间有空行    |

### MATLAB向量，矩阵和阵列命令

下表列出了MATLAB用于工作数组、矩阵和向量的各种命令：

|   命令   |           作用/目的            |
| :------: | :----------------------------: |
|   cat    |            连接数组            |
|   find   |       查找非零元素的索引       |
|  length  |          计算元素数量          |
| linspace |          创建间隔向量          |
| logspace |        创建对数间隔向量        |
|   max    |          返回最大元素          |
|   min    |          返回最小元素          |
|   prod   |      计算数组元素的连乘积      |
| reshape  | 重新调整矩阵的行数、列数、维数 |
|   size   |          计算数组大小          |
|   sort   |           排序每个列           |
|   sum    |            每列相加            |
|   eye    |        创建一个单位矩阵        |
|   ones   |          生成全1矩阵           |
|  zeros   |           生成零矩阵           |
|  cross   |        计算矩阵交叉乘积        |
|   dot    |          计算矩阵点积          |
|   det    |        计算数组的行列式        |
|   inv    |          计算矩阵的逆          |
|   pinv   |         计算矩阵的伪逆         |
|   rank   |          计算矩阵的秩          |
|   rref   |       将矩阵化成行最简形       |
|   cell   |          创建单元数组          |
| celldisp |          显示单元数组          |
| cellplot |     显示单元数组的图形表示     |
| num2cell |    将数值阵列转化为异质阵列    |
|   deal   |       匹配输入和输出列表       |
|  iscell  |       判断是否为元胞类型       |

### MATLAB绘图命令

MATLAB提供了大量的命令绘制图表。下表列出了一些常用的命令绘制：

|   命令    |         作用/目的          |
| :-------: | :------------------------: |
|   axis    |     人功选择坐标轴尺寸     |
|   fplot   |        智能绘图功能        |
|   grid    |         显示网格线         |
|   plot    |          生成XY图          |
|   print   |      打印或绘图到文件      |
|   title   |       把文字置于顶部       |
|  xlabel   |    将文本标签添加到x轴     |
|  ylabel   |    将文本标签添加到y轴     |
|   axes    |         创建轴对象         |
|   close   |       关闭当前的绘图       |
| close all |        关闭所有绘图        |
|  figure   |    打开一个新的图形窗口    |
|   gtext   |  通过鼠标在指定位置放注文  |
|   hold    |        保持当前图形        |
|  legend   |        鼠标放置图例        |
|  refresh  |    重新绘制当前图形窗口    |
|    set    |    指定对象的属性，如轴    |
|  subplot  |      在子窗口中创建图      |
|   text    |        在图上做标记        |
|    bar    |         创建条形图         |
|  loglog   |        创建双对数图        |
|   polar   |       创建极坐标图像       |
| semilogx  | 创建半对数图（对数横坐标） |
| semilogy  | 创建半对数图（对数纵坐标） |
|  stairs   |         创建阶梯图         |
|   stem    |         创建针状图         |



## 脚本文件

命令行创建脚本文件

```matlab
mkdir progs    % create directory progs under default directory
chdir progs    % changing the current directory to progs
edit  prog1.m  % creating an m file named prog1.m
```

## MATLAB 数据类型

MATLAB提供`15`种基本数据类型，分别是8种整型数据、单精度浮点型、双精度浮点型、逻辑型、字符串型、单元数组、结构体类型和函数句柄。每种数据类型存储矩阵或数组形式的数据。矩阵或数组的最小值是`0`到`0`，并且是可以到任何大小的矩阵或数组。

| `int8`     | `8`位有符号整数                                              |
| ---------- | ------------------------------------------------------------ |
| `uint8`    | `8`位无符号整数                                              |
| `int16`    | `16`位有符号整数                                             |
| `uint16`   | `16`位无符号整数                                             |
| `int32`    | `32`位有符号整数                                             |
| `uint32`   | `32`位无符号整数                                             |
| `int64`    | `64`位有符号整数                                             |
| `uint64`   | `64`位无符号整数                                             |
| `single`   | 单精度数值数据                                               |
| `double`   | 双精度数值数据                                               |
| `logical`  | 逻辑值为`1`或`0`，分别代表`true`和`false`                    |
| `char`     | 字符数据(字符串作为字符向量存储)                             |
| 单元格阵列 | 索引单元阵列，每个都能够存储不同维数和数据类型的数组         |
| 结构体     | C型结构，每个结构具有能够存储不同维数和数据类型的数组的命名字段 |
| 函数处理   | 指向一个函数的指针                                           |
| 用户类     | 用户定义的类构造的对象                                       |
| Java类     | 从Java类构造的对象                                           |

```matlab
d = double(n)
un = uint32(789.50)
```

### 数据类型转换

MATLAB提供了各种用于将一种数据类型转换为另一种数据类型的函数。 下表显示了数据类型转换函数：

| 函数             | 描述说明                                       |
| ---------------- | ---------------------------------------------- |
| `char`           | 转换为字符数组(字符串)                         |
| `int2str`        | 将整数数据转换为字符串                         |
| `mat2str`        | 将矩阵转换为字符串                             |
| `num2str`        | 将数字转换为字符串                             |
| `str2double`     | 将字符串转换为双精度值                         |
| `str2num`        | 将字符串转换为数字                             |
| `native2unicode` | 将数字字节转换为Unicode字符                    |
| `unicode2native` | 将Unicode字符转换为数字字节                    |
| `base2dec`       | 将基数N字符串转换为十进制数                    |
| `bin2dec`        | 将二进制数字串转换为十进制数                   |
| `dec2base`       | 将十进制转换为字符串中的N数字                  |
| `dec2bin`        | 将十进制转换为字符串中的二进制数               |
| `dec2hex`        | 将十进制转换为十六进制数字                     |
| `hex2dec`        | 将十六进制数字字符串转换为十进制数             |
| `hex2num`        | 将十六进制数字字符串转换为双精度数字           |
| `num2hex`        | 将单数转换为IEEE十六进制字符串                 |
| `cell2mat`       | 将单元格数组转换为数组                         |
| `cell2struct`    | 将单元格数组转换为结构数组                     |
| `cellstr`        | 从字符数组创建字符串数组                       |
| `mat2cell`       | 将数组转换为具有潜在不同大小的单元格的单元阵列 |
| `num2cell`       | 将数组转换为具有一致大小的单元格的单元阵列     |
| `struct2cell`    | 将结构转换为单元格数组                         |

### 数据类型确定

MATLAB提供了用于识别变量数据类型的各种函数。

下表提供了确定变量数据类型的函数：

| 函数                 | 描述说明                         |
| -------------------- | -------------------------------- |
| `is`                 | 检测状态                         |
| `isa`                | 确定输入是否是指定类的对象       |
| `iscell`             | 确定输入是单元格数组             |
| `iscellstr`          | 确定输入是字符串的单元格数组     |
| `ischar`             | 确定项目是否是字符数组           |
| `isfield`            | 确定输入是否是结构数组字段       |
| `isfloat`            | 确定输入是否为浮点数组           |
| `ishghandle`         | 确定是否用于处理图形对象句柄     |
| `isinteger`          | 确定输入是否为整数数组           |
| `isjava`             | 确定输入是否为Java对象           |
| `islogical`          | 确定输入是否为逻辑数组           |
| `isnumeric`          | 确定输入是否是数字数组           |
| `isobject`           | 确定输入是否为MATLAB对象         |
| `isreal`             | 检查输入是否为实数数组           |
| `isscalar`           | 确定输入是否为标量               |
| `isstr`              | 确定输入是否是字符数组           |
| `isstruct`           | 确定输入是否是结构数组           |
| `isvector`           | 确定输入是否为向量               |
| `class`              | 确定对象的类                     |
| `validateattributes` | 检查数组的有效性                 |
| `whos`               | 在工作区中列出变量，其大小和类型 |

```matlab
x = 3
isinteger(x)
isfloat(x)
isvector(x)
isscalar(x)
isnumeric(x)
```

## MATLAB运算符

MATLAB 设计工作主要是对整个矩阵和阵列。因此，运算符在 MATLAB 工作标和非标量数据。 

MATLAB 的基本运算类型：

- 算术运算符
- 逻辑运算符
- 关系运算符
- 位运算
- 集合运算

### 算术运算符

MATLAB 的工作针对的是整个矩阵和阵列，它允许两种不同类型的算术运算：

- 矩阵算术运算
- 阵列算术运算

矩阵的算术运算是线性代数中的定义相同。执行数组操作，无论是在一维和多维数组元素的元素。

矩阵运算符和数组运算符是有区别的句号（.）符号。然而，由于加法和减法运算矩阵和阵列是相同的，操作者这两种情况下是相同的。下表给出了运算符的简要说明：

| 运算符  |                             描述                             |
| :-----: | :----------------------------------------------------------: |
|  **+**  | 加法或一元加号。A + B将A和B。 A和B必须具有相同的尺寸，除非一个人是一个标量。一个标量，可以被添加到任何大小的矩阵。 |
|  **-**  | 减法或一元减号。A - B，减去B从A和B必须具有相同的大小，除非是一个标量。可以从任意大小的矩阵中减去一个标量。 |
|  *****  | 矩阵乘法；是一个更精确的矩阵A和B的线性代数积，矩阵乘法对于非纯量A和B，列一个数必须等于B.标量可以乘以一个任意大小的矩阵的行数。![Matrix Multiplication](http://www.yiibai.com/uploads/allimg/131001/1643251036-0.jpg) |
| **.\*** | 数组的乘法；A.*B是数组A和B的元素积，A和B必须具有相同的大小，除非A、B中有一个是标量。 |
|  **/**  | 斜线或矩阵右除法；B/A与B * inv（A）大致相同。更确切地说：  B/A = (A'B')' |
| **./**  |  矩阵右除法；矩阵A与矩阵B相应元素相除（A、B为同纬度的矩阵）  |
| **.\**  | 反斜杠或矩阵左除；如果A是一个方阵，AB是大致相同的INV（A）* B，除非它是以不同的方式计算。如果A是一个n*n的矩阵，B是一个n组成的列向量，或是由若干这样的列的矩阵，则X = AB 是方程 AX = B ，如果A严重缩小或者几乎为单数，则显示警告消息。 |
|  **.**  | 数组左除法；A. B是元素B（i，j）/A（i，j）的矩阵。A和B必须具有相同的大小，除非其中一个是标量。 |
|  **^**  | 矩阵的幂。X^P是X到幂P，如果p是标量；如果p是一个整数，则通过重复平方计算功率。如果整数为负数，X首先反转。对P值的计算，涉及到特征值和特征向量，即如果[ D ] = V，EIG（x），那么X^P = V * D.^P / V。 |
| **.^**  |        A.^B：A的每个元素的B次幂（A、B为同纬度的矩阵）        |
|  **'**  |  矩阵的转置；A'是复数矩阵A的线性代数转置，这是复共轭转置。   |
| **.'**  |  数组的转置；A'是数组A的转置，对于复数矩阵，这不涉及共轭。   |

#### 函数

除了上述列举的一些算术运算符，MATLAB 中还拥有以下的命令/功能：

|                   函数                   |                             描述                             |
| :--------------------------------------: | :----------------------------------------------------------: |
|                 uplus(a)                 |                      一元加号；增加量a                       |
|                plus (a,b)                |                       相加；返回 a + b                       |
|                uminus(a)                 |                       一元减号；减少a                        |
|               minus(a, b)                |                       相减；返回 a - b                       |
|               times(a, b)                |                     数组相乘；返回 a.*b                      |
|               mtimes(a, b)               |                     矩阵相乘；返回 a* b                      |
|              rdivide(a, b)               |                    右阵划分；返回 a ./ b                     |
|              ldivide(a, b)               |                     左阵划分；返回 a. b                      |
|              mrdivide(A, B)              |                  求解线性方程组xA = B for x                  |
|              mldivide(A, B)              |                  求解线性方程组xA = B for x                  |
|               power(a, b)                |                     数组求幂；返回 a.^b                      |
|               mpower(a, b)               |                     矩阵求幂；返回 a ^ b                     |
|                cumprod(A)                | 累积乘积；返回与包含累积乘积的数组A相同大小的数组。如果A是向量，则cumprod（A）返回一个包含A的元素的累积乘积的向量。如果A是矩阵，则cumprod（A）返回一个矩阵，其中包含A的每一列的累积乘积。如果A是一个多维数组，那么cumprod（A）将沿着第一个非正整数维。 |
|             cumprod(A, dim)              |                沿维 *dim* 返回返回累积乘积。                 |
|                cumsum(A)                 | 累加总和；返回包含累积和的数组A如果A是向量，则cumsum（A）返回一个包含A的元素的累积和的向量。如果A是矩阵，则cumsum（A）返回一个矩阵，其中包含A的每列的累积和。如果A是一个多维数组，那么cumsum（A）将沿着第一个非整数维度起作用。 |
|              cumsum(A, dim)              |                 返回沿着dim的元素的累积和。                  |
|                 diff(X)                  | 差分和近似导数；计算x相邻元素之间的差异。如果X是向量，则diff（X）返回相邻元素之间的差异的向量，比X短一个元素：[X（2）-X（1）X（3）-X（2）... X（N）-X（N-1）]如果X是一个矩阵，则diff（X）返回行差的矩阵：[X（2：m，...）-X（1：m-1，:)] |
|                diff(X,n)                 |                 递归应用n次，导致第n个差异。                 |
|              diff(X,n,dim)               | 它是沿标量dim指定的维数计算的第n个差分函数。 如果order n等于或超过Dim的长度，diff将返回一个空数组。 |
|                 prod(A)                  | 数组元素的乘积；返回A数组元素的乘积。如果A是向量，则prod（A）返回元素的乘积。如果A是非空矩阵，则prod（A）将A的列作为向量，并返回每列乘积的行向量。如果A是一个空的0-by-0矩阵，则prod（A）返回1。如果A是一个多维数组，那么prod（A）将沿着第一个非子集维度行为并返回一个乘积数组。 该维数的尺寸减小到1，而所有其他维数的尺寸保持不变。如果输入A为单个，则prod函数计算并返回B为单个；对于所有其他数字和逻辑数据类型，prod函数计算并返回B为double。 |
|               prod(A,dim)                | 沿dim维度返回乘积。 例如，如果A是矩阵，则prod（A，2）是包含每一行的乘积的列向量。 |
|            prod(___,datatype)            |           在数据类型指定的类中乘以并返回一个数组。           |
|                  sum(A)                  | 数组元素的总和；返回数组的不同维度的和。如果A是浮动的，那么是双倍或单个，B是本地累加的，它与A相同，B与A具有相同的类。如果A不是浮动的，则B被累加为双，B具有类double。如果A是向量，则sum（A）返回元素的总和。如果A是矩阵，则sum（A）将A的列作为向量，返回每列的和的行向量。如果A是一个多维数组，sum（A）将沿着第一个非单例维度的值作为向量来处理，返回一个行向量的数组。 |
|                sum(A,dim)                |                     沿标量A的维度求和。                      |
| sum(..., 'double')sum(..., dim,'double') | 执行双精度加法，并返回double类型的答案，即使A具有数据类型单一或整型数据类型。这是整型数据类型的默认值。 |
| sum(..., 'native')sum(..., dim,'native') | 在本机数据类型A中执行添加，并返回相同数据类型的答案。 这是单和双的默认值。 |
|                 ceil(A)                  |    向正无穷方向舍入；将a元素舍入为大于或等于A的最近整数。    |
|                  fix(A)                  |                           舍入为零                           |
|                 floor(A)                 |    向负无穷方向舍入；将a元素舍入为小于或等于a的最近整数。    |
|     idivide(a, b)idivide(a, b,'fix')     | 整数除法的舍入选项；与A./B相同，只是分数的商向零舍入到最接近的整数。 |
|          idivide(a, b, 'round')          |                  分数的商舍入到最近的整数。                  |
|          idivide(A, B, 'floor')          |             分数商向负无穷大舍入到最接近的整数。             |
|          idivide(A, B, 'ceil')           |              分数商向无穷大舍入到最接近的整数。              |
|                mod (X,Y)                 | 除法后的模数；返回X - n.* Y，其中 n = floor（X./Y）。 如果Y不是整数，并且商X / Y在整数的舍入误差内，则n是整数。 输入X和Y必须是相同大小的真实数组或实数标量（提供Y〜= 0）。请注意：mod(X,0) 是 Xmod(X,X) 是 0对于 X ＝ Y 和 Y ＝ 0的 mod(X，Y)具有与Y相同的符号。 |
|                rem (X,Y)                 | 除法之后的余数；返回X - n.* Y，其中n = fix（X./Y）。 如果Y不是整数，并且商X / Y在整数的舍入误差内，则n是整数。 输入X和Y必须是相同大小的真实数组或实数标量（提供Y〜= 0）。请记住：rem(X,0) 是 NaNX〜= 0的rem（X，X）为0对于 X~=Y 和 Y~=0 的rem（X，Y）与X具有相同的符号。 |
|                 round(X)                 | 舍入到最接近的整数; 将X的元素舍入到最接近的整数。 正数元素的小数部分为0.5，最大到最接近的正整数。 负数元素的小数部分为-0.5，向下舍入到最接近的负整数。 |

### 逻辑运算符

MATLAB提供了两种类型的逻辑运算符和函数：

- Element-wise -这些运算符的逻辑阵列上运行相应的元素。
- Short-circuit -这些运算上的标量，逻辑表达式。

Element-wise 的逻辑运算符操作元素元素逻辑阵列。符号＆，|和〜逻辑数组运算符AND，OR，NOT。

允许短路短路逻辑运算符，逻辑运算。符号 && 和 | | 是短路逻辑符 AND 和 OR。

#### 函数

除了在上述的逻辑运算符，MATLAB 提供下面的命令或函数用于同样的目的：

|                   函数                    |                             描述                             |
| :---------------------------------------: | :----------------------------------------------------------: |
|                 and(A, B)                 | 查找数组或标量输入的逻辑和；执行所有输入数组A，B等的逻辑AND，并返回包含设置为逻辑1（真）或逻辑0（假）的元素的数组。如果所有输入数组在同一个数组位置都包含一个非零元素，那么输出数组的一个元素将被设置为1；否则，该元素设置为0。 |
|                  not(A)                   | 查找数组或标量输入的逻辑NOT；执行输入数组A的逻辑NOT，并返回包含设置为逻辑1（真）或逻辑0（假）的元素的数组。如果输入数组在同一个数组位置包含一个零值元素，那么输出数组的一个元素将被设置为1；否则，该元素设置为0。 |
|                 or(A, B)                  | 查找数组或标量输入的逻辑或； 执行所有输入数组A，B等的逻辑或，并返回包含设置为逻辑1（真）或逻辑0（假）的元素的数组。如果任何输入数组在同一个数组位置包含一个非零元素，则输出数组的一个元素设置为1；否则，该元素设置为0。 |
|                 xor(A, B)                 | 逻辑异或; 对数组A和B的相应元素执行异或运算。如果A（i，j，...）或B（i，j）...，则所得到的元素C（i，j，...） j，...），但不是两者都是非零的。 |
|                  all(A)                   | 确定数组A的所有数组元素是否为非零或真。如果A是向量，则如果所有元素都为非零，则所有（A）返回逻辑1（真），如果一个或多个元素为零，则返回逻辑0（假）。如果A是非空矩阵，则所有（A）将A的列视为向量，返回逻辑1和0的行向量。如果A是空的0x0矩阵，则全部（A）返回逻辑1（真）。如果A是一个多维数组，则所有（A）都沿着第一个非指定维度行事，并返回一个逻辑值数组。 该尺寸的尺寸减小到1，而所有其他尺寸的尺寸保持不变。这个维度的大小减少到1，而其他所有维度的尺寸保持不变。 |
|                all(A, dim)                |             通过标量dim沿着维数A的维度进行测试。             |
|                  any(A)                   | 确定数组元素是否为非零；测试数组中不同维度的元素是否为非零数字，或是逻辑1（真）。 任何函数忽略NaN（不是数字）的条目。如果A是向量，任何（A）如果A的任何元素是非零数或逻辑1（真），则返回逻辑1（真），如果所有元素为零，则返回逻辑0（假）。如果A是非空矩阵，则任何（A）将A的列视为向量，返回逻辑1和0的行向量。如果A是一个空的0x0矩阵，任何（A）返回逻辑0（假）。如果A是一个多维数组，则任何（A）都沿着第一个非整数维进行操作，并返回一个逻辑值数组。该维度的尺寸减小到1，而所有其他维度的尺寸保持不变。 |
|                any(A,dim)                 |             通过标量dim沿着维数A的维度进行测试。             |
|                   false                   |                         逻辑0（假）                          |
|                 false(n)                  |                       是逻辑0的n×n矩阵                       |
|                false(m, n)                |                    是逻辑0的一个m×n矩阵。                    |
|            false(m, n, p, ...)            |                  是由逻辑0的逐列逐列数组。                   |
|              false(size(A))               |               是与数组A大小相同的逻辑零数组。                |
|            false(...,'like',p)            |      是与逻辑阵列p相同的数据类型和稀疏性的逻辑零数组。       |
|               ind = find(X)               | 查找非零元素的索引和值；定位数组X的所有非零元素，并返回向量中这些元素的线性索引。 如果X是行向量，则返回的向量是行向量; 否则返回列向量。如果X不包含非零元素或是空数组，则返回一个空数组。 |
| ind = find(X, k)ind = find(X, k, 'first') | 最多返回与X的非零条目相对应的前k个索引。k必须是正整数，但它可以是任何数字数据类型。 |
|         ind = find(X, k, 'last')          |          最多返回与X的非零条目相对应的最后k个索引。          |
|         [row,col] = find(X, ...)          | 返回矩阵X中非零条目的行和列索引。使用稀疏矩阵时，此语法特别有用。 如果X是N>2的N维数组，col包含列的线性索引。 |
|        [row,col,v] = find(X, ...)         | 返回X中非零条目的列或行向量v，以及行和列索引。如果X是逻辑表达式，则v是逻辑数组。 输出v包含通过评估表达式X获得的逻辑数组的非零元素。 |
|               islogical(A)                | 确定输入是否为逻辑数组；如果A是逻辑数组，返回true，否则返回false。 如果A是从逻辑类派生的类的实例，它也返回true。 |
|                logical(A)                 |  将数值转换为逻辑；返回一个可用于逻辑索引或逻辑测试的数组。  |
|                   true                    |                         逻辑1（真）                          |
|                  true(n)                  |                     是一个n×n逻辑矩阵。                      |
|                true(m, n)                 |                     是一个mxn逻辑矩阵。                      |
|            true(m, n, p, ...)             |                  是由逻辑1的逐列逐列数组。                   |
|               true(size(A))               |                是与数组A大小相同的逻辑数组。                 |
|            true(...,'like', p)            |       是与逻辑阵列p相同的数据类型和稀疏性的逻辑阵列。        |

### 关系运算符

关系运算符对数组进行元素元素元素设置为逻辑1（真）的关系是真实的和元素设置为逻辑0（假），它是两个阵列，并返回一个同样大小的逻辑阵列之间的比较。

| 运算符 | 描述       |
| ------ | ---------- |
| **<**  | 小于       |
| **<=** | 小于或等于 |
| **>**  | 大于       |
| **>=** | 大于或等于 |
| **==** | 等于       |
| **~=** | 不等于     |

#### 函数

除了在上述的关系运算符，MATLAB提供下列命令/函数用于同样的目的：

|   函数   |             描述              |
| :------: | :---------------------------: |
| eq(a, b) |        测试a是否等于b         |
| ge(a, b) |      测试是否大于或等于B      |
| gt(a, b) |        测试a是否大于b         |
| le(a, b) |     测试a是否小于或等于b      |
| lt(a, b) |        测试a是否小于b         |
| ne(a, b) |       测试a是否不等于b        |
| isequal  |     测试数组以获得相等性      |
| isequaln | 测试数组相等，将NaN值视为相等 |

### 位运算

位运算符位和执行位位操作。 ＆，|和^的真值表如下：

|  p   |  q   | p & q | p \| q | p ^ q |
| :--: | :--: | :---: | :----: | :---: |
|  0   |  0   |   0   |   0    |   0   |
|  0   |  1   |   0   |   1    |   1   |
|  1   |  1   |   1   |   1    |   0   |
|  1   |  0   |   0   |   1    |   1   |

#### 函数

|      函数      |                          目的/作用                           |
| :------------: | :----------------------------------------------------------: |
|  bitand(a, b)  | 当a、b是一个或数个无符号整数或无符号整数数组，返回参数a和b位和， |
|   bitcmp(a)    |                           a的补码                            |
| bitget(a,pos)  |             在指定位置pos中获取位，在整数数组a中             |
|  bitor(a, b)   |                        对数a和b按位或                        |
| bitset(a, pos) |                 a的集合点在一个特定的位置pos                 |
| bitshift(a, k) | 返回一个移到左K位，相当于乘以2K。K负值对应的位权转移或除以2\|K\|向负无穷舍入到最近的整数。任何溢出位都被截断。 |
|  bitxor(a, b)  |                       对数a和b按位异或                       |
|   swapbytes    |                         交换字节顺序                         |

### 集合操作符

MATLAB提供各种功能集合运算，如集，交集和测试组成员等。

下表是对一些常用的设置操作的例举与描述：

|         函数          |                             描述                             |
| :-------------------: | :----------------------------------------------------------: |
|    intersect(A,B)     | 设置两个数组的交集；返回A和B所共有的值。返回的值按排序顺序排列。 |
| intersect(A,B,'rows') | 将A和B的每一行作为单个实体处理，并返回A和B的公共行。返回的矩阵的行按排序顺序排列。 |
|     ismember(A,B)     | 返回与A大小相同的数组，包含1（true），其中A的元素在其他地方的B中找到，它返回0（false）。 |
| ismember(A,B,'rows')  | 将A和B的每一行作为单个实体处理，并返回一个包含1（true）的向量，其中矩阵A的行也是B的行；否则，它返回0（false）。 |
|      issorted(A)      | 如果A的元素按排序顺序返回逻辑1（true），否则返回逻辑0（false）。输入A可以是向量，也可以是N-by-1或1-by-N的字符串数组。如果A和sort（A）的输出相等，则A被认为是排序的。 |
|  issorted(A, 'rows')  | 如果二维矩阵A的行按排序顺序返回逻辑1（真），否则返回逻辑0（假）。 如果A和排序（A）的输出相等，则认为矩阵A被排序。 |
|     setdiff(A,B)      | 设置两个数组的差值；返回不在B中的值。返回数组中的值按排序顺序排列。 |
|  setdiff(A,B,'rows')  | 将每一行A和B行作为单个实体处理，并返回一个不在B中的行。返回的矩阵的行按排序顺序排列。“行”选项不支持单元格数组。 |
|        setxor         |                      设置两个数组的异或                      |
|         union         |                      设置两个数组的并集                      |
|        unique         |                        数组中唯一的值                        |

## 程序控制结构

### 选择结构

#### if-else

|                语句                |                             描述                             |
| :--------------------------------: | :----------------------------------------------------------: |
|             if ... end             | 一个 **if ... end** 语句由一个布尔表达式组成，后跟一个或多个语句。 |
|          if...else...end           | 一个 **if** 语句可以跟随一个可选的 **else** 语句，当布尔表达式为false时，该语句将执行。 |
| If... elseif...elseif...else...end | 一个 **if** 语句后面可以有一个（或多个）可选 **elseif ...** 和一个 **else** 语句，这对于测试各种条件非常有用。 |
|             nested if              | 你可以在另一个 **if** 或 **elseif** 语句中使用一个 **if** 或 **elseif** 语句。 |
|               switch               |   **一个 switch** 语句允许根据值列表对变量进行相等的测试。   |
|           nested switch            |  你可以在另一个 **switch** 语句中使用一个 **swicth** 语句。  |

```matlab
if <expression>
% statement(s) will execute if the boolean expression is true 
<statements>
end
```

#### switch

```matlab
switch <switch_expression>
   case <case_expression>
     <statements>
   case <case_expression>
     <statements>
     ...
     ...
   otherwise
       <statements>
end
```

当上述有一个情况是 true，MATLAB 就执行与之相应的语句，然后不再执行以后的语句，直接退出 switch 块。

### 循环结构

|  循环类型   |                             描述                             |
| :---------: | :----------------------------------------------------------: |
| while 循环  | 一个给定的条件为真时重复语句或语句组。测试条件才执行循环体。 |
|  for 循环   |          执行的语句序列多次缩写管理循环变量的代码。          |
| nested 循环 |           可以使用一个或多个环路内任何另一个循环。           |

#### 循环控制语句

|   控制语句    |                             描述                             |
| :-----------: | :----------------------------------------------------------: |
|  break 语句   |             终止循环语句，将执行的语句紧随循环。             |
| continue 语句 | 导致循环，跳过它的身体的其余部分，并立即重新再次测试前的状况。 |

#### while

```matlab
while <expression>
   <statements>
end
```

#### for

```matlab
for index = values
  <program statements>
          ...
end
```

|        格式         |                             描述                             |
| :-----------------: | :----------------------------------------------------------: |
|   initval:endval    | 将索引变量从初始到终值递增1，并重复执行程序语句，直到索引值大于终值。 |
| initval:step:endval |     按每次迭代中的值步骤递增索引, 或在步骤为负值时递减。     |
|      valArray       | 在每个迭代 *valArrayon* 数组的后续列中创建列向量索引。例如, 在第一次迭代中, index = valArray (:, 1)，循环执行最大 n 次, 其中 n 是 *valArray* 的列数，由 numel (valArray, 1,:) 给出。输入 *valArray* 可以是任何 MATLAB 数据类型, 包括字符串、单元格数组或结构。 |

## MATLAB 数组

### MATLAB 数组函数

MATLAB提供以下功能进行排序，旋转，置乱，重塑或移动数组的内容。

|    函数    |              目的              |
| :--------: | :----------------------------: |
|   length   |     矢量长度或最大阵列尺寸     |
|   ndims    |            数组维数            |
|   numel    |         数组元素的数目         |
|    size    |            数组维度            |
|  iscolumn  |      确定输入是否是列向量      |
|  isempty   |        确定数组是否为空        |
|  ismatrix  |       确定输入是否为矩阵       |
|   isrow    |      确定输入是否为行向量      |
|  isscalar  |       确定输入是否为标量       |
|  isvector  |       确定输入是否为矢量       |
|  blkdiag   |    从输入参数构造块对角矩阵    |
| circshift  |            循环移位            |
| ctranspose |          复数共轭转置          |
|    diag    |     矩阵的对角矩阵和对角线     |
|  flipdim   |       沿指定维度翻转数组       |
|   fliplr   |        从左到右翻转矩阵        |
|   flipud   |         将矩阵向下翻转         |
|  ipermute  |      n-维阵列的反置换维数      |
|  permute   |    重新排列 N 维数组的维数     |
|   repmat   |         复制和平铺数组         |
|  reshape   |            重塑数组            |
|   rot90    |          旋转矩阵90度          |
|  shiftdim  |            移位维度            |
|  issorted  | 确定集合元素是否按排序顺序排列 |
|    sort    | 按升序或降序对数组元素进行排序 |
|  sortrows  |         按升序对行排序         |
|  squeeze   |           删除单维度           |
| transpose  |              转置              |
| vectorize  |          矢量化表达式          |

### MATLAB 单元阵列

单元阵列的阵列中每个单元格可以存储不同的维度和数据类型的数组的索引单元格。

单元格函数用于建立一个单元阵列。

单元格函数的语法如下：

```matlab
C = cell(dim)
C = cell(dim1,...,dimN)
D = cell(obj)
```

#### 注意

- C 是单元阵列；
- dim 是一个标量整数或整数向量，指定单元格阵列C的尺寸；
- dim1, ... , dimN 是标量整数指定尺寸的C；
- obj 是以下内容之一
  - Java 数组或对象
  - .NET阵列 System.String 类型或 System.Object

#### 详细例子

在MATLAB中建立一个脚本文件，输入下述代码：

```
c = cell(2, 5);
c = {'Red', 'Blue', 'Green', 'Yellow', 'White'; 1 2 3 4 5}
```

运行该文件，显示以下结果：

```
c = 
    'Red'    'Blue'    'Green'    'Yellow'    'White'
    [  1]    [   2]    [    3]    [     4]    [    5]
```

#### MATLAB在单元格上阵列访问数据

使用两种方法来引用单元阵列的元素：

- 封闭的索引在第一个 bracket ()，是指一组单元格
- 封闭的在大括号{}，的索引单个单元格内的数据

括在第一支架的索引，它指的是单元格的集。

单元阵列索引平稳括号单元格集合。

例如：

```
c = {'Red', 'Blue', 'Green', 'Yellow', 'White'; 1 2 3 4 5};
c(1:2,1:2)
```

MATLAB执行上述语句，返回以下结果：

```
ans = 
    'Red'    'Blue'
    [  1]    [   2]
```

同样可以用花括号“**{ }**”索引访问单元格的内容。

例如：

```
c = {'Red', 'Blue', 'Green', 'Yellow', 'White'; 1 2 3 4 5};
c{1, 2:4}
```

MATLAB执行上述语句，返回以下结果：

```
ans =
   Blue
ans =
   Green
ans =
   Yellow
```

## MATLAB 数字

MATLAB 支持的数字类有很多，其中包括符号和无符号的整数及单精度和双精度浮点数。

默认情况下，MATLAB 存储所有数值为双精度浮点数。

MATLAB可以选择存储任何数字或数字为整数或单精度数字阵列。

MATLAB所有的数字类型支持基本的数组运算和数学运算。

### MATLAB各种数字数据类型的转换

MATLAB提供各种数字数据类型转换为以下功能：

|  函数  |         目的         |
| :----: | :------------------: |
| double |   转换为双精度数字   |
| single |    转换为单精度数    |
|  int8  | 转换为8位有符号整数  |
| int16  | 转换为16位有符号整数 |
| int32  | 转换为32位有符号整数 |
| int64  | 转换为64位有符号整数 |
| uint8  | 转换为8位无符号整数  |
| uint16 | 转换为16位无符号整数 |
| uint32 | 转换为32位无符号整数 |
| uint64 | 转换为64位无符号整数 |

### 最小和最大整数

MATLAB中使用函数 intmax() 和 intmin() 返回最大和最小的值，它可以表示所有类型的整数。

这两个功能整数数据类型作为参数，例如，intmax(int8) 或 intmin(int64) 最大值和最小值值，可以表示的整数数据类型并返回。 

### MATLAB最小和最大浮点数

使用函数 realmax() 和 realmin() 返回的最大值和最小值，可以表示为浮点数。

这两个函数调用时的参数'单'，返回的最大值和最小值值，可以代表单精度数据类型以及何时被称为'双'的参数，返回的最大值和最小值值，可以表示双精度数据类型。

```matlab
str = 'The range for single is:%g t0 %g and %g to %g';
sprintf(str,-realmax('single'),-realmin('single'),...
	realmin('single'),realmax('single'));
```

## MATLAB字符串

#### 字符串函数

|                      函数                      |               目的/作用                |
| :--------------------------------------------: | :------------------------------------: |
| 用于存储文本字符数组的函数，结合字符数组，等等 |                                        |
|                     blanks                     |          创建空白字符的字符串          |
|                    cellstr                     |    从字符数组中创建字符串单元格数组    |
|                      char                      |        转换为字符数组 (字符串)         |
|                   iscellstr                    |    确定输入是否是字符串的单元格数组    |
|                     ischar                     |          确定项是否为字符数组          |
|                    sprintf                     |          将数据格式化为字符串          |
|                     strcat                     |             水平串联字符串             |
|                    strjoin                     | 将单元格数组中的字符串合并为单个字符串 |
|      识别字符串部分的函数，查找和替换子串      |                                        |
|                     ischar                     |          确定项是否为字符数组          |
|                    isletter                    |         按照字母次序的数组元素         |
|                    isspace                     |           数组元素是空格字符           |
|                   isstrprop                    |        确定字符串是否为指定类别        |
|                     sscanf                     |         从字符串读取格式化数据         |
|                    strfind                     |     在另一个字符串中找到一个字符串     |
|                     strrep                     |            查找和替换字符串            |
|                    strsplit                    |        在指定分隔符处拆分字符串        |
|                     strtok                     |            字符串的选定部分            |
|                 validatestring                 |         检查文本字符串的有效性         |
|                     symvar                     |         在表达式中确定符号变量         |
|                     regexp                     |      匹配正则表达式 (区分大小写)       |
|                    regexpi                     |     匹配正则表达式 (不区分大小写)      |
|                   regexprep                    |        使用正则表达式替换字符串        |
|                regexptranslate                 |        将字符串转换为正则表达式        |
|                 字符串比较函数                 |                                        |
|                     strcmp                     |        比较字符串 (区分大小写)         |
|                    strcmpi                     |       比较字符串 (不区分大小写)        |
|                    strncmp                     |  比较字符串的前 n 个字符 (区分大小写)  |
|                    strncmpi                    | 比较字符串的前 n 个字符 (不区分大小写) |
|   改变字符串大写或小写，创建或删除空格的函数   |                                        |
|                    deblank                     |        从字符串末尾分隔尾随空格        |
|                    strtrim                     |    从字符串中删除前导空格和尾随空格    |
|                     lower                      |           将字符串转换为小写           |
|                     upper                      |           将字符串转换为大写           |
|                    strjust                     |              对齐字符数组              |

## MATLAB函数

> 在MATLAB中，函数定义在单独的文件。文件函数的文件名应该是相同的。

函数是一组语句一起执行任务。

函数在自己的工作空间进行操作，被称为本地工作区，独立的工作区；在 MATLAB 命令提示符访问，这就是所谓的基础工作区的变量。

函数可以接受多个输入参数和可能返回多个输出参数。

函数语句的语法是：

```
function [out1,out2, ..., outN] = myfun(in1,in2,in3, ..., inN)
```

如：

```matlab
function max = mymax(n1,n2,n3,n4,n5)
//以下为具体实现
```

### 匿名函数

一个匿名的函数就像是在传统的编程语言，在一个单一的 MATLAB 语句定义一个内联函数。

它由一个单一的 MATLAB 表达式和任意数量的输入和输出参数。

在MATLAB命令行或在一个函数或脚本可以定义一个匿名函数。

这种方式，可以创建简单的函数，而不必为他们创建一个文件。

建立一个匿名函数表达式的语法如下：

```matlab
f = @(arglist)expression
```

#### 匿名函数例子

将编写一个匿名函数 power，这将需要两个数字作为输入并返回第二个数字到第一个数字次幂。

在MATLAB中建立一个脚本文件，并输入下述代码：

```matlab
power = @(x, n) x.^n;
result1 = power(7, 3)
result2 = power(49, 0.5)
result3 = power(10, -10)
result4 = power (4.5, 1.5)
```

### 主要函数和子函数

每个函数的文件包含一个必需的主函数和首先出现的任何数量的可选子函数，在主要函数之后使用。

主要函数可以调用的文件，它定义之外，无论是从命令行或从其他函数，但子功能不能被称为命令行或其他函数，外面的函数文件。

子功能可见函数内的文件，它定义它们的主要函数和其他函数。

#### 例子

```matlab
function [x1,x2] = quadratic(a,b,c)
%this function returns the roots of 
% a quadratic equation.
% It takes 3 input arguments
% which are the co-efficients of x2, x and the 
%constant term
% It returns the roots
d = disc(a,b,c); 
x1 = (-b + d) / (2*a);
x2 = (-b - d) / (2*a);
end % end of quadratic

function dis = disc(a,b,c) 			% 此为子函数
%function calculates the discriminant
dis = sqrt(b^2 - 4*a*c);
end % end of sub-function
```

可以从命令提示符调用上述函数为：

```
quadratic(2,4,-4)
```

### 嵌套函数

在这个机体内另一个函数，可以定义函数。这些被称为嵌套函数。

嵌套函数包含任何其他函数的任何或所有的组件。

嵌套函数被另一个函数的范围内定义他们共享访问包含函数的工作区。

嵌套函数的语法如下：

```matlab
function x = A(p1, p2)
...
B(p2)
   function y = B(p3)
   ...
   end
...
end
```

### MATLAB私有函数

一个私有函数是一个主要的函数，是只看得见一组有限的其它函数。

如果不想公开的执行的一个函数，可以创建私有函数。

私有函数驻留特殊的名字私人的子文件夹中。

他们是可见的，只有在父文件夹的函数。

#### 例子

重写 quadratic 函数。然而，这时计算的判别式 disc 函数，是一个私有函数。

在MATLAB中建立一个子文件夹命名为私人工作目录。它存储在以下函数文件 disc.m：

```matlab
function dis = disc(a,b,c) 
%function calculates the discriminant
dis = sqrt(b^2 - 4*a*c);
end % end of sub-function
```

在工作目录，创建一个函数 quadratic3.m ，输入下述代码：

```matlab
function [x1,x2] = quadratic3(a,b,c)
%this function returns the roots of 
% a quadratic equation.
% It takes 3 input arguments
% which are the co-efficients of x2, x and the 
%constant term
% It returns the roots
d = disc(a,b,c); 
x1 = (-b + d) / (2*a);
x2 = (-b - d) / (2*a);
end % end of quadratic3
```

可以从命令提示符调用上面的函数为：

```matlab
quadratic3(2,4,-4)
```

## MATLAB 全局变量

全局变量可以共享由一个以上的函数。对于这一点，需要将变量声明为全局在所有的函数可使用。

如果想访问该变量从基工作区，然后在命令行声明的变量。

全局声明必须出现在变量中实际上是使用功能。这是一个很好的做法是使用大写字母为全局变量的名称，以区别于其他变量。

### 例子

创建一个函数文件名为 average.m ，输入下述代码：

```matlab
function avg = average(nums)
global TOTAL
avg = sum(nums)/TOTAL;
end
```

在MATLAB中建立一个脚本文件，输入下面的代码：

```matlab
global TOTAL;
TOTAL = 10;
n = [34, 45, 25, 45, 33, 19, 40, 34, 38, 42];
av = average(n)
```

