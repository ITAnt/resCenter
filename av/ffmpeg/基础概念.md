## FFmpeg 基础概念



#### Bitstream Filter

1. 比特流滤波器作用在编码后的数据上，而不是未压缩的数据。
2. 在不解码的基础上执行比特流级别的修改。

示例

```shell
ffmpeg -i input.mp4 -codec copy -bsf:v h264_mp4toannexb output.ts
```

这个是把mp4容器格式改为ts容器格式，需要把h.264的封装格式从mp4改成annexb。

h.264编码有两种封装格式

1. 一种是annexb模式, 它是传统模式, 有startcode, SPS和PPS在Element Stream中.
2. 另一种是mp4模式, 一般Mp4, MKV, AVI都没有startcode, SPS和PPS以及其他信息被封装容器中. 每一帧前面是这一帧的长度值, 很多解码器只支持annexb模式, 因此需要对Mp4模式做转换.