### extern "C"

C++的关键词，C中不能使用。

extern "C"表示**编译生成的内部符号名使用C约定**。C++支持函数重载，而C不支持，两者的编译规则也不一样。函数被C++编译后在符号库中的名字与C语言的不 同。例如，假设某个函数的原型为：void foo( int x, int y ); 该函数被C编译器编译后在符号库中的名字可能为_foo，而C++编译器则会产生像_foo_int_int之类的名字（不同的编译器可能生成的名字不 同，但是都采用了相同的机制，生成的新名字称为“mangled name”）。_foo_int_int这样的名字包含了函数名、函数参数数量及类型信息，C++就是靠这种机制来实现函数重载的。

extern "C"的真实目的是实现**类C和C++的混合编程**。在C++源文件中的语句前面加上extern "C"，表明它按照类C的编译和连接规约来编译和连接，而不是C++的编译的连接规约。这样在类C的代码中就可以调用C++的函数or变量等。

#### C++引用C函数的例子

C++调用C，extern "C" 的作用是：让C++连接器找调用函数的符号时采用C的方式



#### 在C中引用C++函数

C调用C++，使用extern "C"则是告诉编译器把cpp文件中extern "C"定义的函数依照C的方式来编译封装接口，当然接口函数里面的C++语法还是按C++方式编译。

在C中引用C++语言中的函数和变量时，C++的函数或变量要声明在extern "C"{}里，但是在C语言中不能使用extern "C"，否则编译出错。

#### 综合使用

当我们的函数有可能被C或C++使用时，我们无法确定被谁调用，使得不能确定是否要将函数声明在extern "C"里，所以，我们可以添加
\#ifdef \__cplusplus
 extern "C"
 {
 \#endif
//函数声明
\#ifdef __cplusplus
 }
 \#endif
这样的话这个文件无论是被C或C++调用都可以





#### 特别说明

不仅仅是函数，变量也要放在 extern "C"中

https://www.cnblogs.com/skynet/archive/2010/07/10/1774964.html