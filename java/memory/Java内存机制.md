### Java 内存机制

![](..\png\jvm运行时数据区.png)

运行时数据区被分为**线程私有数据区**和**线程共享数据区**两大类：

- 线程私有数据区包含：程序计数器、虚拟机栈、本地方法栈
- 线程共享数据区包含：`Java`堆、方法区（内部包含**运行时常量池**）

#### 程序计数器

定义：**当前线程**所执行的**字节码的行号指示器**

- 如果线程正在执行的是一个 `Java` 方法，那么计数器记录的是正在执行的虚拟机字节码指令的**地址**
- 如果线程正在执行的是一个 `Native` 方法，那么计数器的值则为**空**

**为了线程切换后能恢复到正确的执行位置**，每条线程都需要有一个**独立**的程序计数器，各条线程之间计数器互不影响，独立存储，因此它是线程**私有**的内存。是唯一一个没有规定任何

#### Java虚拟机栈